var measurement string\n var channel_id string\n var crit1 lambda\nvar crit2 lambda\n var crit3  lambda\n var var1 = stream\n |from()\n  .measurement(measurement)\n  .where(lambda:crit1)\n var var2 = stream\n |from()\n  .measurement(measurement)\n  .where(lambda:crit2)\n var1\n  |join(var2)\n    .as('var1','var2')\n    .tolerance(1ms)\n    .fill(0.0)\n    .streamName('multic')\n  |alert()\n    .id(channel_id +  ' {{ .Name }}/{{ .Group }}/{{.TaskName}}')\n    .crit(lambda:crit3)\n    .noRecoveries()\n    .message('{{.ID}} is {{ .Level}} at time: {{.Time}} as value exceeded the threshold')\n    .details('')\n    .post()\n    .endpoint('api-alert')\n    .captureResponse()\n  |httpOut('msg')
